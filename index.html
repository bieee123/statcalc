<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistical & Probability Calculator</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./chatbot.css">
    <link rel="stylesheet" href="./components/styles-file.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <header id="header-container"></header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Statistical & Probability Calculator</h1>
                    <p>An interactive web-based tool designed to help computer science students understand and calculate statistical and probability concepts.</p>
                    <div class="cta-buttons">
                        <a href="basic-stats/basic_stats.html" class="btn primary">Get Started</a>
                        <a href="documentation/documentation.html" class="btn secondary">Learn More</a>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="stat-visual">
                        <canvas id="demoChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2>Key Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“Š</div>
                        <h3>Basic Statistics</h3>
                        <p>Calculate mean, median, mode, variance, standard deviation, quartiles, and IQR with detailed step-by-step explanations.</p>
                        <a href="basic-stats/basic_stats.html" class="btn text">Try Now â†’</a>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“Š</div>
                        <h3>Probability Distribution Calculator</h3>
                        <p>Calculate mean, median, mode, variance, standard deviation, quartiles, and IQR with detailed step-by-step explanations.</p>
                        <a href="distributions/distributions.html" class="btn text">Try Now â†’</a>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“Š</div>
                        <h3>Inferential Statistics Calculator</h3>
                        <p>Calculate mean, median, mode, variance, standard deviation, quartiles, and IQR with detailed step-by-step explanations.</p>
                        <a href="inference/inference.html" class="btn text">Try Now â†’</a>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“ˆ</div>
                        <h3>Data Visualization</h3>
                        <p>Generate dynamic charts including bar charts, line graphs, histograms, and box plots to analyze data distributions.</p>
                        <a href="visualization/charts.html" class="btn text">Try Now â†’</a>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ§®</div>
                        <h3>Educational Tools</h3>
                        <p>Interactive tooltips explain formulas, step-by-step calculation breakdowns, and references to learning resources.</p>
                        <a href="documentation/documentation.html" class="btn text">Learn More â†’</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="sample-calculations">
            <div class="container">
                <h2>Quick Start</h2>
                <div class="calculator-demo">
                    <div class="demo-input">
                        <h3>Try with sample data:</h3>
                        <p>Enter comma-separated values:</p>
                        <textarea id="demoData">12, 15, 18, 19, 22, 25, 26, 28, 30, 35</textarea>
                        <button id="calculateDemo" class="btn primary">Calculate</button>
                    </div>
                    <div class="demo-results">
                        <h3>Basic Statistics:</h3>
                        <div id="demoResults">
                            <p><strong>Mean:</strong> <span id="demoMean">-</span></p>
                            <p><strong>Median:</strong> <span id="demoMedian">-</span></p>
                            <p><strong>Standard Deviation:</strong> <span id="demoStdDev">-</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <section id="chatbot-section" class="chatbot-container">
        <!-- Chatbot Button -->
        <button id="chatbot-button" class="chatbot-button">
            <i class="fa-solid fa-calculator"></i>
        </button>
    
        <!-- Chatbot Popup -->
        <div id="chatbot-popup" class="chatbot-popup">
            <div class="chatbot-header">
                <span class="chatbot-title">StatCalc Assistant</span>
                <button id="close-chatbot" class="close-btn">âœ–</button>
            </div>
    
            <div class="chatbot-info">
                <span class="version">StatCalc Assistant v1.0</span>
                <p>
                    Ask questions about statistical calculations or how to use StatCalc features.
                </p>
                <a href="#" class="info-link">Learn more</a>
            </div>
    
            <div class="chatbot-body">
                <div class="chat-message chatbot">
                    <div class="chat-avatar">
                        <img src="/api/placeholder/35/35" alt="Bot Avatar">
                    </div>
                    <div class="chat-bubble">
                        Hi there! I'm your StatCalc Assistant. How can I assist you with your statistical calculations today?
                    </div>
                </div>
                <div class="quick-replies">
                    <button class="quick-reply">How to calculate mean?</button>
                    <button class="quick-reply">Normal distribution help</button>
                    <button class="quick-reply">T-test vs Z-test</button>
                </div>
            </div>
    
            <div class="chatbot-footer">
                <input type="text" id="chat-input" placeholder="Type your question about statistics...">
                <button id="send-message">âž¤</button>
            </div>
        </div>
    </section>

    <footer id="footer-container"></footer>

    <script src="./chatbot.js"></script>
    <script src="./components/script-file.js"></script>
    <script src="./main.js"></script>
    <script>
        // Demo chart for landing page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize demo chart
            const ctx = document.getElementById('demoChart').getContext('2d');
            const data = [12, 15, 18, 19, 22, 25, 26, 28, 30, 35];
            
            const demoChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.map((_, index) => `Value ${index + 1}`),
                    datasets: [{
                        label: 'Sample Data',
                        data: data,
                        backgroundColor: 'rgba(54, 162, 235, 0.7)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Demo calculation for landing page
            document.getElementById('calculateDemo').addEventListener('click', function() {
                const inputText = document.getElementById('demoData').value;
                const values = inputText.split(',').map(val => parseFloat(val.trim())).filter(val => !isNaN(val));
                
                if (values.length === 0) {
                    alert('Please enter valid numeric data separated by commas.');
                    return;
                }
                
                // Calculate mean
                const sum = values.reduce((a, b) => a + b, 0);
                const mean = sum / values.length;
                
                // Calculate median
                const sortedValues = [...values].sort((a, b) => a - b);
                let median;
                const mid = Math.floor(sortedValues.length / 2);
                if (sortedValues.length % 2 === 0) {
                    median = (sortedValues[mid - 1] + sortedValues[mid]) / 2;
                } else {
                    median = sortedValues[mid];
                }
                
                // Calculate standard deviation
                const meanDiffs = values.map(val => val - mean);
                const squaredDiffs = meanDiffs.map(diff => diff * diff);
                const variance = squaredDiffs.reduce((a, b) => a + b, 0) / values.length;
                const stdDev = Math.sqrt(variance);
                
                // Display results
                document.getElementById('demoMean').textContent = mean.toFixed(2);
                document.getElementById('demoMedian').textContent = median.toFixed(2);
                document.getElementById('demoStdDev').textContent = stdDev.toFixed(2);
                
                // Update chart
                demoChart.data.labels = values.map((_, index) => `Value ${index + 1}`);
                demoChart.data.datasets[0].data = values;
                demoChart.update();
            });
        });
    </script>
</body>
</html>
